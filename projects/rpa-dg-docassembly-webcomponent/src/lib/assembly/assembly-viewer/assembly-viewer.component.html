<div class="govuk-width-container">
  <a *ngIf="showForm" href="#" class="govuk-back-link" (click)="showForm = false">Choose another template</a>
  <app-template-selector *ngIf="!showForm"
                         [templates]="templates" (templateSelected)="setTemplate($event)"></app-template-selector>
  <app-form-viewer *ngIf="showForm"
                   [templateName]="templateName"
                   [templateData]="templateData"
                   (previewDocument)="previewDocument($event, modalTemplate)"></app-form-viewer>
</div>
<ng-template #modalTemplate>
  <div class="modal-header">
    <h4 class="modal-title govuk-heading-m pull-left">Preview: {{ templateName }}</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="govuk-grid-column-full">
      <app-document-viewer [baseUrl]="''"
                           [annotate]="false"
                           [url]="documentUrl | async"
                           [isDM]="true"
                           [contentType]="'pdf'">
      </app-document-viewer>
    </div>
  </div>
</ng-template>
